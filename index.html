<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FilmLaku21</title>
    <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>
<header>
    <div class="top-header">
        <div class="logo">FilmLaku21</div>
        <div class="search-box">
            <input type="text" placeholder="Cari Film...">
        </div>
    </div>
    <nav class="nav-categories">
        <a href="index.html">🏠 Beranda</a>
        <a href="index.html?kategori=Drama">🎭 Drama</a>
        <a href="index.html?kategori=Romance">💖 Romance</a>
        <a href="index.html?kategori=Action">🔥 Action</a>
    </nav>
</header>

<div class="container" id="film-list"></div>

<footer>
    <p>© 2025 FilmLaku21. Semua Hak Dilindungi.</p>
</footer>

<script src="assets/js/films.js"></script>
<script>
function renderFilmSection(title, ids) {
    return `
        <h2>${title}</h2>
        <div class="film-grid">
            ${ids.map(id => `
                <a href="detail.html?id=${id}" class="film-card">
                    <div class="film-rating">⭐ ${films[id].rating}</div>
                    <img src="${films[id].img}" alt="${films[id].title}" />
                    <div class="film-overlay">
                        <div class="film-title">${films[id].title}</div>
                    </div>
                </a>
            `).join('')}
        </div>
    `;
}

const params = new URLSearchParams(window.location.search);
const kategori = params.get("kategori");

if (kategori) {
    const filteredIds = Object.keys(films).filter(id => films[id].kategori === kategori);
    document.getElementById("film-list").innerHTML = renderFilmSection(`Kategori: ${kategori}`, filteredIds);
} else {
    document.getElementById("film-list").innerHTML =
        renderFilmSection("Film Terbaru", Object.keys(films)) +
        renderFilmSection("Film Laris", ["film3", "film1"]) +
        renderFilmSection("Upload Terbaru", ["film2", "film3"]);
}
</script>
</body>
</html>
